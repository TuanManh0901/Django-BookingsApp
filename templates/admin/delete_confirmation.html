{% extends "admin/base_site.html" %}
{% load i18n l10n admin_urls static %}

{% block extrahead %}
    {{ block.super }}
    {{ media }}
    <style>
        .delete-confirmation-container {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 14px rgba(50,50,93,.12);
            padding: 30px;
            margin: 20px 0;
        }
        .delete-confirmation-container h1 {
            color: #dc3545;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 20px;
        }
        .delete-confirmation-container p {
            font-size: 16px;
            color: #525f7f;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        .delete-confirmation-container h2 {
            font-size: 20px;
            font-weight: 700;
            color: #32325d;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        .delete-confirmation-container ul {
            list-style: none;
            padding: 0;
            margin: 0 0 25px 0;
        }
        .delete-confirmation-container ul li {
            padding: 10px 15px;
            background: #f8f9fe;
            border-radius: 8px;
            margin-bottom: 8px;
            border-left: 4px solid #5e72e4;
            font-size: 15px;
            color: #32325d;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        .delete-confirmation-container ul li a {
            color: #5e72e4;
            text-decoration: none;
            font-weight: 600;
        }
        .delete-confirmation-container ul li a:hover {
            text-decoration: underline;
        }
        .submit-row {
            background: transparent !important;
            border: none !important;
            padding: 20px 0 0 0 !important;
            display: flex;
            gap: 15px;
            align-items: center;
        }
        .submit-row input[type="submit"] {
            background: linear-gradient(87deg, #f5365c 0, #f56036 100%) !important;
            color: #fff !important;
            border: none !important;
            padding: 12px 30px !important;
            border-radius: 8px !important;
            font-weight: 600 !important;
            font-size: 14px !important;
            text-transform: uppercase !important;
            letter-spacing: .5px !important;
            cursor: pointer !important;
            box-shadow: 0 4px 6px rgba(245, 54, 92, 0.4) !important;
            transition: all .15s ease !important;
        }
        .submit-row input[type="submit"]:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 14px rgba(245, 54, 92, 0.5) !important;
        }
        .cancel-link {
            background: #6c757d !important;
            color: #fff !important;
            border: none !important;
            padding: 12px 30px !important;
            border-radius: 8px !important;
            font-weight: 600 !important;
            font-size: 14px !important;
            text-transform: uppercase !important;
            letter-spacing: .5px !important;
            text-decoration: none !important;
            display: inline-block;
            box-shadow: 0 4px 6px rgba(108, 117, 125, 0.3) !important;
            transition: all .15s ease !important;
        }
        .cancel-link:hover {
            background: #5a6268 !important;
            transform: translateY(-2px);
            box-shadow: 0 7px 14px rgba(108, 117, 125, 0.4) !important;
        }
        .objects-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            background: #fff;
        }
        .objects-list::-webkit-scrollbar {
            width: 8px;
        }
        .objects-list::-webkit-scrollbar-track {
            background: #f1f3f7;
            border-radius: 4px;
        }
        .objects-list::-webkit-scrollbar-thumb {
            background: #5e72e4;
            border-radius: 4px;
        }
    </style>
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">Trang chủ</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
    &rsaquo; <a href="{% url opts|admin_urlname:'changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>
    &rsaquo; Xác nhận xóa
</div>
{% endblock %}

{% block content %}
<div class="delete-confirmation-container">
    {% if perms_lacking %}
        <h1>Không có quyền xóa</h1>
        <p>Bạn không có quyền xóa các đối tượng sau:</p>
    {% elif protected %}
        <h1>Không thể xóa</h1>
        <p>Không thể xóa {{ object_name }} vì các đối tượng sau phụ thuộc vào nó:</p>
    {% else %}
        <h1>Bạn có chắc chắn?</h1>
        <p>Bạn có chắc chắn muốn xóa {{ object_name|lower }} đã chọn? Tất cả các đối tượng sau và các mục liên quan sẽ bị xóa:</p>
    {% endif %}

    <h2>Tóm tắt</h2>
    <ul>
        {% for deletable_object in deletable_objects %}
            <li>{{ deletable_object|capfirst }}: {{ deletable_object|length }}</li>
        {% endfor %}
    </ul>

    <h2>Đối tượng sẽ bị xóa</h2>
    <div class="objects-list">
        <ul>
        {% for obj in queryset %}
            <li>
                <strong>{{ obj|truncatewords:10 }}</strong>
            </li>
        {% endfor %}
        </ul>
    </div>

    {% if perms_lacking %}
        <div style="margin-top: 20px;">
            <a href="{% url opts|admin_urlname:'changelist' %}" class="cancel-link">Quay lại</a>
        </div>
    {% elif protected %}
        <div style="margin-top: 20px;">
            <a href="{% url opts|admin_urlname:'changelist' %}" class="cancel-link">Quay lại</a>
        </div>
    {% else %}
        <form method="post">
            {% csrf_token %}
            <div>
                {% for obj in queryset %}
                    <input type="hidden" name="{{ action_checkbox_name }}" value="{{ obj.pk|unlocalize }}">
                {% endfor %}
                <input type="hidden" name="action" value="delete_selected">
                <input type="hidden" name="post" value="yes">
            </div>
            <div class="submit-row">
                <input type="submit" value="Vâng, tôi chắc chắn">
                <a href="{% url opts|admin_urlname:'changelist' %}" class="cancel-link">Không, quay lại</a>
            </div>
        </form>
    {% endif %}
</div>
{% endblock %}
